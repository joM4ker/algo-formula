# 双指针

## 定长滑动窗口

```pseudocode
def func(k, arr):
    res = 极端情况的返回值
    for i in range(len(arr)):
        arr[i]进入窗口
        if 窗口长度 < 目标长度 - 1:
            continue
        更新res
        arr[i - k + 1]退出窗口
    return res
```

## 不定长滑动窗口

### 求最长

```pseudocode
def func(arr):
    res = 极端情况的返回值
    l = 0
    for r in range(len(arr)):
        while arr[r]进入窗口后不符合条件:
            arr[l]退出窗口
            l += 1
        arr[r]进入窗口
        更新res
    return res
```

### 求最短

```pseudocode
def func(arr):
    res = 极端情况的返回值
    l = 0
    for r in range(len(arr)):
        arr[r]进入窗口
        while 窗口符合条件:
            更新res
            arr[l]退出窗口
            l += 1
    return res
```

### 求子数组个数

#### 越短越合法

```pseudocode
def func(arr):
    res = 极端情况的返回值
    l = 0
    for r in range(len(arr)):
        arr[r]进入窗口
        while 窗口不符合条件:
            arr[l]退出窗口
            l += 1
        res += r - l + 1
    return res
```

#### 越长越合法

```pseudocode
def func(arr):
    res = 极端情况的返回值
    l = 0
    for r in range(len(arr)):
        arr[r]进入窗口
        while 窗口不符合条件:
            arr[l]退出窗口
            l += 1
        res += l
    return res
```

### 恰好符合条件

```pseudocode
def func(arr, k):
    # (>=k的) - (<=k - 1的)
    def func0(arr, k):
        res = 极端情况的返回值
        l = 0
        for r in range(len(arr)):
            arr[r]进入窗口
            while 窗口不符合条件:
                arr[l]退出窗口
                l += 1
            res += r - l + 1
        return res
    return func0(arr, k) - func0(arr, k - 1)
```
